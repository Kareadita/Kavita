<div class="list-item-container d-flex flex-row g-0 mb-2 p-2">
    <div class="pe-2">
        <app-image [imageUrl]="imageUrl" [height]="imageHeight" [width]="imageWidth"></app-image>

        <span class="download" *ngIf="download$ | async as download">
            <app-circular-loader [currentValue]="download.progress"></app-circular-loader>
            <span class="visually-hidden" role="status">
              {{download.progress}}% downloaded
            </span>
        </span>

        <div class="progress-banner" *ngIf="pagesRead < totalPages && totalPages > 0 && pagesRead !== totalPages"> 
            <p><ngb-progressbar type="primary" height="5px" [value]="pagesRead" [max]="totalPages"></ngb-progressbar></p>
        </div>
    </div>
    <div class="flex-grow-1">
        <div class="g-0">
            <h5 style="margin-bottom: 0px">
                <app-card-actionables [disabled]="actionInProgress" (actionHandler)="performAction($event)" [actions]="actions" [labelBy]="seriesName" iconClass="fa-ellipsis-v"></app-card-actionables>
                <span>
                    <ng-content select="[title]"></ng-content>
                </span>
                <button class="btn btn-primary float-end" (click)="read.emit()">
                    <span>
                        <i class="fa fa-book me-1" aria-hidden="true"></i>
                    </span>
                    <span class="d-none d-sm-inline-block">Read</span>
                </button>
            </h5>
            <!-- <h6 class="text-muted" style="font-size: 0.75rem">{{seriesName}}</h6> -->
            <ng-container *ngIf="summary.length > 0">
                <div class="mt-2 ps-2">
                    <app-read-more [text]="summary" [maxLength]="250"></app-read-more>
                </div>
            </ng-container>
            <div class="ps-2 d-none d-md-inline-block"> <!-- Hide info cards on smaller viewports-->
                <app-entity-info-cards [entity]="entity" [hideID]="true"></app-entity-info-cards>
            </div>
        </div>
    </div>
</div>