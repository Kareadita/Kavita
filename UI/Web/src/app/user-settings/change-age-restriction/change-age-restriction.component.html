<ng-container *transloco="let t; read:'change-age-restriction'">

  <div class="container-fluid row mb-2">
    <div class="col-4"><h4 class="header-title" id="age-restriction">{{t('age-restriction-label')}}</h4></div>
    <div class="col-1">
      <button class="btn btn-text btn-sm" (click)="toggleViewMode()" [disabled]="(hasChangeAgeRestrictionAbility | async) === false">{{isViewMode ? t('edit') : t('cancel')}}</button>
    </div>
  </div>

  @if (user) {
    <div class="container-fluid row">
      @if (isViewMode) {
        <span class="col-12">{{user.ageRestriction.ageRating | ageRating }}
          @if (user.ageRestriction.ageRating !== AgeRating.NotApplicable && user.ageRestriction.includeUnknowns) {
            <span class="ms-1 me-1">+</span> {{t('unknowns')}}
          }
      </span>
      } @else {
        <div #collapse="ngbCollapse" [(ngbCollapse)]="isViewMode">
            <app-restriction-selector (selected)="updateRestrictionSelection($event)" [showContext]="false" [member]="user" [reset]="reset"></app-restriction-selector>

            <div class="col-auto d-flex d-md-block justify-content-sm-center text-md-end mb-3">
              <button type="button" class="flex-fill btn btn-secondary me-2" aria-describedby="age-restriction" (click)="resetForm()">{{t('reset')}}</button>
              <button type="submit" class="flex-fill btn btn-primary" aria-describedby="age-restriction" (click)="saveForm()">{{t('save')}}</button>
            </div>
        </div>
      }
    </div>
  }


</ng-container>
