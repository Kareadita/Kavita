<div class="badge-expander">
    <div class="content {{isCollapsed ? 'collapsed' : ''}}">
        <ng-container *ngFor="let item of visibleItems; index as i;" [ngTemplateOutlet]="itemTemplate" [ngTemplateOutletContext]="{ $implicit: item, idx: i }"></ng-container>
    </div>

    <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed">
        and {{items.length - 4}} more
    </button>
</div>