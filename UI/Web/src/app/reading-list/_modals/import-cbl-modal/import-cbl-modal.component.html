
<div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Import CBL Reading List</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>
<div class="modal-body scrollable-modal {{utilityService.getActiveBreakpoint() === Breakpoint.Mobile ? '' : 'd-flex'}}">
    
    <!-- <app-step-tracker [steps]="steps"></app-step-tracker> -->
    <!-- <div class="form-page-container">
        <app-steps></app-steps>
      <div class="step-page-container">
        <div class="form-step">
            <ng-container [ngSwitch]="currentStep?.stepIndex">
                <ng-container *ngSwitchCase="'1'">
                    <app-step-template [step]="currentStep">
                        Test
                    </app-step-template>
                </ng-container>
                <ng-container *ngSwitchCase="'2'">
                  <app-step-template [step]="currentStep"></app-step-template>
                </ng-container>
                <ng-container *ngSwitchCase="'3'">
                  <app-step-template [step]="currentStep"></app-step-template>
                </ng-container>
            </ng-container>
        </div>
      </div>
      <button class="btn btn-primary" (click)="onNextStep()" [disabled]="!currentStep?.isComplete">
        Next
      </button>
    </div> -->


    <form [formGroup]="uploadForm" enctype="multipart/form-data">
        <file-upload formControlName="files"></file-upload>
        <button class="btn btn-primary" type="button" (click)="importFile()">Import</button>
    </form>
    

    <h5>There were issues when trying to import this CBL!</h5>
    <ng-container *ngFor="let importSummary of importSummaries">
        <ul>
            <li class="list-item" *ngFor="let conflict of importSummary.results">
                {{conflict.reason | cbl-conflict-reason: conflict.series:conflict.volume:conflict.chapter}}
            </li>
        </ul>
    </ng-container>



</div>
<div class="modal-footer">
    <a class="btn btn-icon" href="https://wiki.kavitareader.com/en/guides/get-started-using-your-library/reading-lists#creating-a-reading-list-via-cbl" target="_blank" rel="noopener noreferrer">Help</a>
    <button type="button" class="btn btn-secondary" (click)="close()">Close</button>
</div>


