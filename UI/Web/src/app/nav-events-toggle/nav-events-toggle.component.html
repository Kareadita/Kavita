<ng-container>
    
    <button type="button" class="btn btn-icon" [ngbPopover]="popContent" title="Activity" placement="bottom">
        <i aria-hidden="true" class="fa fa-wave-square"></i>
    </button>

    <ng-template #popContent>
        <ul class="list-group">
            <li class="list-group-item"><a ngbDropdownItem routerLink="/admin/dashboard" *ngIf="user.roles.includes('Admin')">Dashboard</a></li>

            <li class="list-group-item" *ngFor="let event of progressEvents$ | async">
                <div class="spinner-border text-primary small-spinner"
                role="status" title="Started at {{event.timestamp | date: 'short'}}" 
                attr.aria-valuetext="{{prettyPrintProgress(event.progress)}}%" [attr.aria-valuenow]="prettyPrintProgress(event.progress)">
                    <span class="sr-only">Scan for {{event.libraryName}} in progress</span>
                </div>
                {{prettyPrintProgress(event.progress)}}%
                {{prettyPrintEvent(event.eventType)}} {{event.libraryName}}
            </li>
        </ul>
    </ng-template>
</ng-container>