<div class="container-fluid" *ngIf="series !== undefined" style="padding-top: 10px">
    <div class="row">
        <div class="col-md-2 col-xs-4 col-sm-6">
            <img class="poster" [src]="isNullOrEmpty(series.coverImage) ? placeholderImage : safeImage" alt="{{series.name}}">
            <button class="btn btn-primary read-btn" (click)="read()" (mouseover)="showBook = true;" (mouseleave)="showBook = false;">
                <span>
                    <i class="fa {{showBook ? 'fa-book-open' : 'fa-book'}}"></i>
                    
                </span>
                &nbsp;
                {{currentlyReadingVolume === undefined ? 'Start Reading' : 'Continue Reading'}}
            </button>
        </div>
        <div class="col-md-10 col-xs-8 col-sm-6">
            <div class="row"><h2>{{series.name | titlecase}}</h2></div>
            <div class="row">
                <ngb-rating [(rate)]="series.userRating" (rateChange)="updateRating($event)"></ngb-rating>
                <p>{{series.userReview}}</p>
            </div>
            <div class="row">
                <!-- Future metadata here -->
            </div>
            <div class="row">
                <p>{{series?.summary}}</p>
            </div>
            
        </div>
    </div>

    <h4 class="mt-3">Volumes</h4>
    <div class="row mt-3">
        <div *ngFor="let volume of volumes">
            <ng-container *ngIf="volume.number != 0">
                <app-card-item class="col-sm-auto" [entity]="volume" [title]="'Volume ' + volume.name" (click)="openVolume(volume)"
                    [imageUrl]="volume.coverImage === null ? 'assets/images/image-placeholder.jpg' : volume.coverImage"
                    [read]="volume.pagesRead" [total]="volume.pages" [actions]="volumeActions"></app-card-item>
            </ng-container>
        </div>
        <div *ngFor="let chapter of chapters">
            <app-card-item class="col-sm-auto" [entity]="chapter" [title]="'Chapter ' + chapter.range" (click)="openChapter(chapter)"
            [imageUrl]="chapter.coverImage === null ? 'assets/images/image-placeholder.jpg' : chapter.coverImage"
            [read]="chapter.pagesRead" [total]="chapter.pages" [actions]="volumeActions"></app-card-item>
        </div>
    </div>

</div>