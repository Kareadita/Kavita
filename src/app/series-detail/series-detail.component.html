<div class="container-fluid" *ngIf="series !== undefined" style="padding-top: 10px">
    <div class="row">
        <div class="col-md-2 col-xs-4 col-sm-6">
            <img class="poster" [src]="isNullOrEmpty(series.coverImage) ? placeholderImage : safeImage" alt="{{series.name}}">
        </div>
        <div class="col-md-10 col-xs-8 col-sm-6">
            <div class="row no-gutters"><h2>{{series?.name | titlecase}}</h2></div>
            <div class="row no-gutters">
                <div>
                    <button class="btn btn-primary" (click)="read()" (mouseover)="showBook = true;" (mouseleave)="showBook = false;" [disabled]="isLoading">
                        <span>
                            <i class="fa {{showBook ? 'fa-book-open' : 'fa-book'}}"></i>
                        </span>
                        &nbsp;
                        <span class="read-btn--text">{{currentlyReadingVolume === undefined ? 'Read' : 'Continue'}}</span>
                    </button>
                </div>
                <div class="ml-2">
                    <button class="btn btn-secondary" [disabled]="true" title="Edit Series information">
                        <span>
                            <i class="fa fa-pen"></i>
                        </span>
                    </button>
                </div>
                <div class="ml-2">
                    <ngb-rating style="margin-top: 2px;" [(rate)]="series.userRating" (rateChange)="updateRating($event)"></ngb-rating>
                </div>
            </div>
            <div class="row no-gutters">
                <p class="user-review {{series?.userReview ? 'mt-1' : ''}}">{{series?.userReview}}</p>
            </div>
            <div class="row no-gutters {{series?.userReview ? '' : 'mt-1'}}">
                <!-- Read more component -->
                <p>{{series?.summary}}</p>
            </div>
            <div>
                <!-- Future metadata here
                <div class="row no-gutters">
                    <div class="col-md-6">
                        <h5>Genres</h5>
                    </div>
                    <div class="col-md-6">
                        <p>Action, Fantasy, Gore, Romance</p>
                    </div>
                </div>
                <div class="row no-gutters">
                    <div class="col-md-6">
                        <h5>Collections</h5>
                    </div>
                    <div class="col-md-6">
                        <p>Action, Favorites</p>
                    </div>
                </div>
                -->
            </div>
        </div>
    </div>

    <h4 class="mt-3">Volumes</h4>
    <div class="row">
        <div *ngFor="let volume of volumes">
            <ng-container *ngIf="volume.number != 0">
                <app-card-item class="col-sm-auto" [entity]="volume" [title]="'Volume ' + volume.name" (click)="openVolume(volume)"
                    [imageUrl]="volume.coverImage === null ? 'assets/images/image-placeholder.jpg' : volume.coverImage"
                    [read]="volume.pagesRead" [total]="volume.pages" [actions]="volumeActions"></app-card-item>
            </ng-container>
        </div>
        <div *ngFor="let chapter of chapters">
            <app-card-item class="col-sm-auto" [entity]="chapter" [title]="'Chapter ' + chapter.range" (click)="openChapter(chapter)"
            [imageUrl]="chapter.coverImage === null ? 'assets/images/image-placeholder.jpg' : chapter.coverImage"
            [read]="chapter.pagesRead" [total]="chapter.pages" [actions]="volumeActions"></app-card-item>
        </div>
    </div>

</div>